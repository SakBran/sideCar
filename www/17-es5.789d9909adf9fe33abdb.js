function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{X3zk:function(n,e,t){"use strict";t.r(e),t.d(e,"LoginModule",(function(){return O}));var i=t("ofXK"),o=t("tyNb"),r=t("fXoL"),s=t("JJId"),a=t("OVG3"),c=t("GZYL"),l=t("TEn/"),b=t("3Pt+");function u(n,e){1&n&&r.Kb(0,"ion-icon",17)}function p(n,e){1&n&&r.Kb(0,"ion-icon",18)}var g,d,f,h=[{path:"",component:(g=function(){function n(e,t,i,o){_classCallCheck(this,n),this.router=e,this.userService=t,this.appSetting=i,this.userTypeService=o,this.username="",this.password="",this.passwordVisibility="password",this.userData={id:0,username:"",password:"",usertype:0,phone:"",latitude:"",longitude:""}}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"passVisible",value:function(){this.passwordVisibility="password"===this.passwordVisibility?"text":"password"}},{key:"locationUpdate",value:function(){var n=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){n.userData.latitude=e.coords.latitude.toString(),n.userData.longitude=e.coords.longitude.toString(),n.userService.putLocation(n.userData)}))}},{key:"onClick",value:function(){var n=this;this.appSetting.showLoading(),console.log(this.username),console.log(this.password),this.userService.getLogin(this.username,this.password).subscribe((function(e){console.log(e),n.appSetting.sessionUserID=e.id,n.userData=e}),(function(e){return n.appSetting.showError(e)}),(function(){0===n.appSetting.sessionUserID?n.appSetting.loginFail():n.userTypeService.getSingle(n.userData.usertype).subscribe((function(e){n.appSetting.loginType=e.usertypeName.toLocaleLowerCase()}),(function(e){return n.appSetting.showError(e)}),(function(){"resturant"===n.appSetting.loginType&&(n.appSetting.resturantID=n.appSetting.sessionUserID),console.log("Type"+n.appSetting.loginType),"rider"===n.appSetting.loginType&&setInterval((function(){n.locationUpdate(),console.log("Interval running")}),3e4),n.appSetting.loginSuccess(),n.router.navigateByUrl("/tabs")}))}))}}]),n}(),g.\u0275fac=function(n){return new(n||g)(r.Jb(o.g),r.Jb(s.a),r.Jb(a.a),r.Jb(c.a))},g.\u0275cmp=r.Db({type:g,selectors:[["app-login-from"]],decls:43,vars:5,consts:[["color","light"],["color","light","padding",""],["color","primary","justify-content-center",""],["padding",""],["slot","start"],["src","/../assets/person.svg"],["type","text","placeholder","Username",3,"ngModel","ngModelChange"],["src","/../assets/key.svg"],["placeholder","Password",3,"ngModel","type","ngModelChange"],["color","light",3,"click"],["name","eye-outline",4,"ngIf"],["name","eye-off-outline",4,"ngIf"],["size","6"],["expand","block","color","primary",3,"click"],["color","",1,"ion-align-items-center"],[2,"text-align","center"],["target","_blank","color","light","href","https://sakbran.github.io"],["name","eye-outline"],["name","eye-off-outline"]],template:function(n,e){1&n&&(r.Ob(0,"ion-toolbar",0),r.Kb(1,"ion-title"),r.Nb(),r.Ob(2,"ion-toolbar",0),r.Kb(3,"ion-title"),r.Nb(),r.Ob(4,"ion-content",1),r.Ob(5,"ion-card"),r.Ob(6,"ion-card-content"),r.Ob(7,"ion-grid"),r.Ob(8,"ion-row",2),r.Ob(9,"ion-col"),r.Ob(10,"div",3),r.Ob(11,"ion-card"),r.Ob(12,"ion-item"),r.Ob(13,"ion-avatar",4),r.Kb(14,"img",5),r.Nb(),r.Ob(15,"ion-label"),r.Ob(16,"ion-input",6),r.Wb("ngModelChange",(function(n){return e.username=n})),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(17,"ion-row"),r.Ob(18,"ion-col"),r.Ob(19,"div",3),r.Ob(20,"ion-card"),r.Ob(21,"ion-item"),r.Ob(22,"ion-avatar",4),r.Kb(23,"img",7),r.Nb(),r.Ob(24,"ion-label"),r.Ob(25,"ion-input",8),r.Wb("ngModelChange",(function(n){return e.password=n})),r.Nb(),r.Nb(),r.Ob(26,"ion-button",9),r.Wb("click",(function(){return e.passVisible()})),r.kc(27,u,1,0,"ion-icon",10),r.kc(28,p,1,0,"ion-icon",11),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(29,"ion-row"),r.Ob(30,"ion-col",12),r.Ob(31,"ion-button",13),r.Wb("click",(function(){return e.onClick()})),r.lc(32," Cancel "),r.Nb(),r.Nb(),r.Ob(33,"ion-col",12),r.Ob(34,"ion-button",13),r.Wb("click",(function(){return e.onClick()})),r.lc(35," Login "),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(36,"ion-toolbar",0),r.Ob(37,"ion-text",14),r.Ob(38,"div",15),r.Ob(39,"p"),r.lc(40,"All Rights Reserved. \u2122 by "),r.Ob(41,"a",16),r.lc(42,"Sak Bran"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&n&&(r.zb(16),r.dc("ngModel",e.username),r.zb(9),r.ec("type",e.passwordVisibility),r.dc("ngModel",e.password),r.zb(2),r.dc("ngIf","password"===e.passwordVisibility),r.zb(1),r.dc("ngIf","text"===e.passwordVisibility))},directives:[l.K,l.J,l.l,l.e,l.f,l.n,l.y,l.k,l.r,l.c,l.s,l.q,l.R,b.c,b.d,l.d,i.j,l.H,l.p],styles:[""]}),g)},{path:"",loadChildren:function(){return t.e(3).then(t.bind(null,"hO9l")).then((function(n){return n.TabsPageModule}))},canActivate:[t("5cPy").a]}],y=((f=function n(){_classCallCheck(this,n)}).\u0275mod=r.Hb({type:f}),f.\u0275inj=r.Gb({factory:function(n){return new(n||f)},imports:[[b.a,o.i.forChild(h)],o.i]}),f),O=((d=function n(){_classCallCheck(this,n)}).\u0275mod=r.Hb({type:d}),d.\u0275inj=r.Gb({factory:function(n){return new(n||d)},imports:[[l.L,i.b,b.a,y]]}),d)}}]);