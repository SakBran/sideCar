(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{X3zk:function(t,i,e){"use strict";e.r(i),e.d(i,"LoginModule",(function(){return h}));var n=e("ofXK"),o=e("tyNb"),s=e("fXoL"),r=e("JJId"),a=e("OVG3"),b=e("GZYL"),l=e("TEn/"),c=e("3Pt+");function p(t,i){1&t&&s.Kb(0,"ion-icon",17)}function g(t,i){1&t&&s.Kb(0,"ion-icon",18)}const u=[{path:"",component:(()=>{class t{constructor(t,i,e,n){this.router=t,this.userService=i,this.appSetting=e,this.userTypeService=n,this.username="",this.password="",this.passwordVisibility="password",this.userData={id:0,username:"",password:"",usertype:0,phone:"",latitude:"",longitude:""}}ngOnInit(){}passVisible(){this.passwordVisibility="password"===this.passwordVisibility?"text":"password"}locationUpdate(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{this.userData.latitude=t.coords.latitude.toString(),this.userData.longitude=t.coords.longitude.toString(),this.userService.putLocation(this.userData)})}onClick(){this.appSetting.showLoading(),console.log(this.username),console.log(this.password),this.userService.getLogin(this.username,this.password).subscribe(t=>{console.log(t),this.appSetting.sessionUserID=t.id,this.userData=t},t=>this.appSetting.showError(t),()=>{0===this.appSetting.sessionUserID?this.appSetting.loginFail():this.userTypeService.getSingle(this.userData.usertype).subscribe(t=>{this.appSetting.loginType=t.usertypeName.toLocaleLowerCase()},t=>this.appSetting.showError(t),()=>{"resturant"===this.appSetting.loginType&&(this.appSetting.resturantID=this.appSetting.sessionUserID),console.log("Type"+this.appSetting.loginType),"rider"===this.appSetting.loginType&&setInterval(()=>{this.locationUpdate(),console.log("Interval running")},3e4),this.appSetting.loginSuccess(),this.router.navigateByUrl("/tabs")})})}}return t.\u0275fac=function(i){return new(i||t)(s.Jb(o.g),s.Jb(r.a),s.Jb(a.a),s.Jb(b.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-login-from"]],decls:43,vars:5,consts:[["color","light"],["color","light","padding",""],["color","primary","justify-content-center",""],["padding",""],["slot","start"],["src","/../assets/person.svg"],["type","text","placeholder","Username",3,"ngModel","ngModelChange"],["src","/../assets/key.svg"],["placeholder","Password",3,"ngModel","type","ngModelChange"],["color","light",3,"click"],["name","eye-outline",4,"ngIf"],["name","eye-off-outline",4,"ngIf"],["size","6"],["expand","block","color","primary",3,"click"],["color","",1,"ion-align-items-center"],[2,"text-align","center"],["target","_blank","color","light","href","https://sakbran.github.io"],["name","eye-outline"],["name","eye-off-outline"]],template:function(t,i){1&t&&(s.Ob(0,"ion-toolbar",0),s.Kb(1,"ion-title"),s.Nb(),s.Ob(2,"ion-toolbar",0),s.Kb(3,"ion-title"),s.Nb(),s.Ob(4,"ion-content",1),s.Ob(5,"ion-card"),s.Ob(6,"ion-card-content"),s.Ob(7,"ion-grid"),s.Ob(8,"ion-row",2),s.Ob(9,"ion-col"),s.Ob(10,"div",3),s.Ob(11,"ion-card"),s.Ob(12,"ion-item"),s.Ob(13,"ion-avatar",4),s.Kb(14,"img",5),s.Nb(),s.Ob(15,"ion-label"),s.Ob(16,"ion-input",6),s.Wb("ngModelChange",(function(t){return i.username=t})),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(17,"ion-row"),s.Ob(18,"ion-col"),s.Ob(19,"div",3),s.Ob(20,"ion-card"),s.Ob(21,"ion-item"),s.Ob(22,"ion-avatar",4),s.Kb(23,"img",7),s.Nb(),s.Ob(24,"ion-label"),s.Ob(25,"ion-input",8),s.Wb("ngModelChange",(function(t){return i.password=t})),s.Nb(),s.Nb(),s.Ob(26,"ion-button",9),s.Wb("click",(function(){return i.passVisible()})),s.kc(27,p,1,0,"ion-icon",10),s.kc(28,g,1,0,"ion-icon",11),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(29,"ion-row"),s.Ob(30,"ion-col",12),s.Ob(31,"ion-button",13),s.Wb("click",(function(){return i.onClick()})),s.lc(32," Cancel "),s.Nb(),s.Nb(),s.Ob(33,"ion-col",12),s.Ob(34,"ion-button",13),s.Wb("click",(function(){return i.onClick()})),s.lc(35," Login "),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(36,"ion-toolbar",0),s.Ob(37,"ion-text",14),s.Ob(38,"div",15),s.Ob(39,"p"),s.lc(40,"All Rights Reserved. \u2122 by "),s.Ob(41,"a",16),s.lc(42,"Sak Bran"),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&t&&(s.zb(16),s.dc("ngModel",i.username),s.zb(9),s.ec("type",i.passwordVisibility),s.dc("ngModel",i.password),s.zb(2),s.dc("ngIf","password"===i.passwordVisibility),s.zb(1),s.dc("ngIf","text"===i.passwordVisibility))},directives:[l.K,l.J,l.l,l.e,l.f,l.n,l.y,l.k,l.r,l.c,l.s,l.q,l.R,c.c,c.d,l.d,n.j,l.H,l.p],styles:[""]}),t})()},{path:"",loadChildren:()=>e.e(3).then(e.bind(null,"hO9l")).then(t=>t.TabsPageModule),canActivate:[e("5cPy").a]}];let d=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(i){return new(i||t)},imports:[[c.a,o.i.forChild(u)],o.i]}),t})(),h=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(i){return new(i||t)},imports:[[l.L,n.b,c.a,d]]}),t})()}}]);