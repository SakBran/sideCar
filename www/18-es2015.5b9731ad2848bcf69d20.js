(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{X3zk:function(t,i,e){"use strict";e.r(i),e.d(i,"LoginModule",(function(){return h}));var n=e("ofXK"),o=e("tyNb"),s=e("fXoL"),r=e("JJId"),a=e("OVG3"),b=e("GZYL"),l=e("TEn/"),c=e("3Pt+");function p(t,i){1&t&&s.Lb(0,"ion-icon",18)}function g(t,i){1&t&&s.Lb(0,"ion-icon",19)}const u=[{path:"",component:(()=>{class t{constructor(t,i,e,n){this.router=t,this.userService=i,this.appSetting=e,this.userTypeService=n,this.username="",this.password="",this.passwordVisibility="password",this.userData={id:0,username:"",password:"",usertype:0,phone:"",latitude:"",longitude:""}}ngOnInit(){}passVisible(){this.passwordVisibility="password"===this.passwordVisibility?"text":"password"}locationUpdate(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{this.userData.latitude=t.coords.latitude.toString(),this.userData.longitude=t.coords.longitude.toString(),this.userService.putLocation(this.userData)})}onClick(){this.appSetting.showLoading(),console.log(this.username),console.log(this.password),this.userService.getLogin(this.username,this.password).subscribe(t=>{console.log(t),this.appSetting.sessionUserID=t.id,this.userData=t},t=>this.appSetting.showError(t),()=>{0===this.appSetting.sessionUserID?this.appSetting.loginFail():this.userTypeService.getSingle(this.userData.usertype).subscribe(t=>{this.appSetting.loginType=t.usertypeName.toLocaleLowerCase()},t=>this.appSetting.showError(t),()=>{"resturant"===this.appSetting.loginType&&(this.appSetting.resturantID=this.appSetting.sessionUserID),console.log("Type"+this.appSetting.loginType),"rider"===this.appSetting.loginType&&setInterval(()=>{this.locationUpdate(),console.log("Interval running")},3e4),this.appSetting.loginSuccess(),this.router.navigateByUrl("/managmenet")})})}}return t.\u0275fac=function(i){return new(i||t)(s.Kb(o.g),s.Kb(r.a),s.Kb(a.a),s.Kb(b.a))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-login-from"]],decls:43,vars:5,consts:[["color","light"],["color","light","padding",""],["color","primary","justify-content-center",""],["padding",""],["slot","start"],["src","/../assets/person.svg"],["type","text","placeholder","Username",3,"ngModel","ngModelChange"],["src","/../assets/key.svg"],["placeholder","Password",3,"ngModel","type","ngModelChange"],["color","light",3,"click"],["name","eye-outline",4,"ngIf"],["name","eye-off-outline",4,"ngIf"],["size","6"],["routerLink","","expand","block","color","primary"],["expand","block","color","primary",3,"click"],["color","",1,"ion-align-items-center"],[2,"text-align","center"],["target","_blank","color","light","href","https://sakbran.github.io"],["name","eye-outline"],["name","eye-off-outline"]],template:function(t,i){1&t&&(s.Pb(0,"ion-toolbar",0),s.Lb(1,"ion-title"),s.Ob(),s.Pb(2,"ion-toolbar",0),s.Lb(3,"ion-title"),s.Ob(),s.Pb(4,"ion-content",1),s.Pb(5,"ion-card"),s.Pb(6,"ion-card-content"),s.Pb(7,"ion-grid"),s.Pb(8,"ion-row",2),s.Pb(9,"ion-col"),s.Pb(10,"div",3),s.Pb(11,"ion-card"),s.Pb(12,"ion-item"),s.Pb(13,"ion-avatar",4),s.Lb(14,"img",5),s.Ob(),s.Pb(15,"ion-label"),s.Pb(16,"ion-input",6),s.Xb("ngModelChange",(function(t){return i.username=t})),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(17,"ion-row"),s.Pb(18,"ion-col"),s.Pb(19,"div",3),s.Pb(20,"ion-card"),s.Pb(21,"ion-item"),s.Pb(22,"ion-avatar",4),s.Lb(23,"img",7),s.Ob(),s.Pb(24,"ion-label"),s.Pb(25,"ion-input",8),s.Xb("ngModelChange",(function(t){return i.password=t})),s.Ob(),s.Ob(),s.Pb(26,"ion-button",9),s.Xb("click",(function(){return i.passVisible()})),s.pc(27,p,1,0,"ion-icon",10),s.pc(28,g,1,0,"ion-icon",11),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(29,"ion-row"),s.Pb(30,"ion-col",12),s.Pb(31,"ion-button",13),s.qc(32," Cancel "),s.Ob(),s.Ob(),s.Pb(33,"ion-col",12),s.Pb(34,"ion-button",14),s.Xb("click",(function(){return i.onClick()})),s.qc(35," Login "),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(36,"ion-toolbar",0),s.Pb(37,"ion-text",15),s.Pb(38,"div",16),s.Pb(39,"p"),s.qc(40,"All Rights Reserved. \u2122 by "),s.Pb(41,"a",17),s.qc(42,"Sak Bran"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.zb(16),s.ec("ngModel",i.username),s.zb(9),s.fc("type",i.passwordVisibility),s.ec("ngModel",i.password),s.zb(2),s.ec("ngIf","password"===i.passwordVisibility),s.zb(1),s.ec("ngIf","text"===i.passwordVisibility))},directives:[l.P,l.O,l.n,l.f,l.g,l.p,l.B,l.m,l.t,l.c,l.u,l.s,l.X,c.c,c.d,l.d,n.j,l.V,o.h,l.M,l.r],styles:[""]}),t})()},{path:"managmenet",loadChildren:()=>e.e(3).then(e.bind(null,"hO9l")).then(t=>t.TabsPageModule),canActivate:[e("5cPy").a]}];let d=(()=>{class t{}return t.\u0275mod=s.Ib({type:t}),t.\u0275inj=s.Hb({factory:function(i){return new(i||t)},imports:[[c.a,o.i.forChild(u)],o.i]}),t})(),h=(()=>{class t{}return t.\u0275mod=s.Ib({type:t}),t.\u0275inj=s.Hb({factory:function(i){return new(i||t)},imports:[[l.Q,n.b,c.a,d]]}),t})()}}]);