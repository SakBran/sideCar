(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{TUkU:function(e,t,i){"use strict";i.r(t),i.d(t,"Tab2PageModule",(function(){return x}));var n=i("TEn/"),o=i("ofXK"),a=i("3Pt+"),r=i("qtYk"),b=i("dFER"),c=i("fXoL"),s=i("OVG3"),l=i("tyNb");function d(e,t){1&e&&(c.Pb(0,"ion-text",18),c.qc(1," *** "),c.Ob())}let p=(()=>{class e{constructor(e,t,i,n){this.appSetting=e,this.Router=t,this.location=i,this.route=n,this.foodData=new b.a,this.orderDetail={orderDetailID:0,itemID:this.foodData.id,itemQty:1,itemOrgPrice:0,discount:0,itemFinalPrice:0,orderID:0,status:"pending",remark:"",comment:"",isPickUpResturant:!1,isPickUpRider:!1},this.id=+this.Router.snapshot.paramMap.get("id"),this.id=+this.Router.snapshot.paramMap.get("id"),this.foodData=this.loadData(this.id)}back(){this.route.navigateByUrl("/tabs/tab2")}loadData(e){let t=new b.a,i=-1;return[...this.appSetting.orderDetailList].forEach(n=>{i+=1,i===e&&(t=this.loadFoodData(n.itemID),this.orderDetail=n)}),t}loadFoodData(e){let t=new b.a;return[...this.appSetting.constFoodDataList].forEach(i=>{i.id===e&&(t=i)}),t}totalAmount(){return 0!==this.orderDetail.itemQty?(this.orderDetail.itemOrgPrice=this.orderDetail.itemQty*this.foodData.price,this.orderDetail.itemFinalPrice=this.orderDetail.itemOrgPrice-this.orderDetail.discount,this.orderDetail.itemFinalPrice.toString()):"0"}validation(){return 0!==this.orderDetail.itemQty}addToInvoice(){if(this.validation()){this.appSetting.itemJoin(this.foodData.id);let e=-1;this.appSetting.orderDetailList.forEach(t=>{e+=1});let t=-1;this.appSetting.orderDetailViewList.forEach(e=>{t+=1})}this.route.navigateByUrl("/tabs/tab2")}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(s.a),c.Kb(l.a),c.Kb(o.g),c.Kb(l.g))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-item-edit"]],decls:70,vars:8,consts:[["lines","none"],["slot","start"],["src","/../assets/food.svg"],["src","/../assets/number.svg"],["color","tertiary","position","floating"],["name","calculator-outline"],["color","danger",4,"ngIf"],["type","number",3,"ngModel","ngModelChange"],["src","/../assets/sale.svg"],["color","primary"],["name","cash-outline"],["src","/../assets/remark.svg"],["name","chatbubbles-outline"],["type","text",3,"ngModel","ngModelChange"],["src","/../assets/money.svg"],["fixed",""],["size","6"],["expand","block","color","light",3,"click"],["color","danger"]],template:function(e,t){1&e&&(c.Pb(0,"ion-content"),c.Pb(1,"ion-card"),c.Pb(2,"ion-card-content"),c.Pb(3,"ion-item",0),c.Pb(4,"ion-avatar",1),c.Lb(5,"img",2),c.Ob(),c.Pb(6,"ion-label",0),c.Pb(7,"h2"),c.qc(8),c.Ob(),c.Pb(9,"h3"),c.qc(10),c.Ob(),c.Pb(11,"h3"),c.qc(12),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(13,"ion-card"),c.Pb(14,"ion-card-content"),c.Pb(15,"ion-item",0),c.Pb(16,"ion-avatar",1),c.Lb(17,"img",3),c.Ob(),c.Pb(18,"ion-label"),c.Pb(19,"h2"),c.qc(20,"Please enter the quantity"),c.Ob(),c.Ob(),c.Ob(),c.Pb(21,"ion-item"),c.Pb(22,"ion-label",4),c.Lb(23,"ion-icon",5),c.qc(24," Quantity "),c.pc(25,d,2,0,"ion-text",6),c.Ob(),c.Pb(26,"ion-input",7),c.Xb("ngModelChange",(function(e){return t.orderDetail.itemQty=e})),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(27,"ion-card"),c.Pb(28,"ion-card-content"),c.Pb(29,"ion-item",0),c.Pb(30,"ion-avatar",1),c.Lb(31,"img",8),c.Ob(),c.Pb(32,"ion-label"),c.Pb(33,"h2",9),c.qc(34,"Please enter the Discount amount"),c.Ob(),c.Ob(),c.Ob(),c.Pb(35,"ion-item"),c.Pb(36,"ion-label",4),c.Lb(37,"ion-icon",10),c.qc(38," Discount "),c.Ob(),c.Pb(39,"ion-input",7),c.Xb("ngModelChange",(function(e){return t.orderDetail.discount=e})),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(40,"ion-card"),c.Pb(41,"ion-card-content"),c.Pb(42,"ion-item",0),c.Pb(43,"ion-avatar",1),c.Lb(44,"img",11),c.Ob(),c.Pb(45,"ion-label"),c.Pb(46,"h2",9),c.qc(47,"Please enter remark"),c.Ob(),c.Ob(),c.Ob(),c.Pb(48,"ion-item"),c.Pb(49,"ion-label",4),c.Lb(50,"ion-icon",12),c.qc(51," Remark "),c.Ob(),c.Pb(52,"ion-input",13),c.Xb("ngModelChange",(function(e){return t.orderDetail.remark=e})),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(53,"ion-card"),c.Pb(54,"ion-item",0),c.Pb(55,"ion-avatar",1),c.Lb(56,"img",14),c.Ob(),c.Pb(57,"ion-label"),c.Pb(58,"h2"),c.qc(59,"Total"),c.Ob(),c.Pb(60,"h3"),c.qc(61),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(62,"ion-grid",15),c.Pb(63,"ion-row"),c.Pb(64,"ion-col",16),c.Pb(65,"ion-button",17),c.Xb("click",(function(){return t.back()})),c.qc(66," Back "),c.Ob(),c.Ob(),c.Pb(67,"ion-col",16),c.Pb(68,"ion-button",17),c.Xb("click",(function(){return t.addToInvoice()})),c.qc(69," Update Invoice "),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.zb(8),c.rc(t.foodData.itemName),c.zb(2),c.rc(t.foodData.price),c.zb(2),c.rc(t.appSetting.resName(t.foodData.resturant_id)),c.zb(13),c.ec("ngIf",0===t.orderDetail.itemQty),c.zb(1),c.ec("ngModel",t.orderDetail.itemQty),c.zb(13),c.ec("ngModel",t.orderDetail.discount),c.zb(13),c.ec("ngModel",t.orderDetail.remark),c.zb(9),c.rc(t.totalAmount()))},directives:[n.n,n.f,n.g,n.u,n.c,n.x,n.r,o.j,n.t,n.X,a.c,a.d,n.bb,n.p,n.E,n.m,n.d,n.Q],styles:[""]}),e})();var g=i("Gj71"),h=i("Dyo1");function u(e,t){if(1&e){const e=c.Qb();c.Pb(0,"ion-card"),c.Pb(1,"ion-card-content"),c.Pb(2,"ion-item"),c.Pb(3,"ion-avatar",2),c.Lb(4,"img",20),c.Ob(),c.Pb(5,"ion-label"),c.Pb(6,"h2"),c.qc(7),c.Ob(),c.Pb(8,"h3"),c.qc(9),c.Ob(),c.Pb(10,"h3"),c.qc(11),c.Ob(),c.Pb(12,"h3"),c.qc(13),c.Ob(),c.Ob(),c.Pb(14,"ion-button",21),c.Lb(15,"ion-icon",22),c.Ob(),c.Pb(16,"ion-button",23),c.Xb("click",(function(){c.kc(e);const i=t.index;return c.Zb().deleteInvoice(i)})),c.Lb(17,"ion-icon",24),c.Ob(),c.Ob(),c.Ob(),c.Ob()}if(2&e){const e=t.$implicit,i=t.index;c.zb(7),c.rc(e.itemName),c.zb(2),c.sc("Quantity ",e.orderDetialModel.itemQty,""),c.zb(2),c.sc("Price ",e.orderDetialModel.itemFinalPrice,""),c.zb(2),c.rc(e.resturantName),c.zb(1),c.gc("routerLink","/tabs/tab2/itemEdit/",i,"")}}function P(e,t){if(1&e&&(c.Pb(0,"ion-select-option",15),c.qc(1),c.Ob()),2&e){const e=t.$implicit,i=t.index;c.ec("value",e.id),c.zb(1),c.tc(" ",i+1,".",e.TownShip," ")}}let O=(()=>{class e{constructor(e,t,i){this.appSetting=e,this.LocationService=t,this.orderService=i,this.list=[1,2,34,5,6],this.revceiveOpt=["All","COD","Epayment"],this.locationReload()}ngOnInit(){}editInvoice(e){this.appSetting.adminTab2Process="edit"}riderSelect(){this.appSetting.adminTab2Process="riderSelect"}locationReload(){0===this.appSetting.locationDataList.length&&this.LocationService.get().subscribe(e=>this.appSetting.locationDataList=e)}refresh(e){this.LocationService.get().subscribe(e=>this.appSetting.locationDataList=e,e=>this.appSetting.showError(e),()=>{e.target.complete()})}deliverChange(e){this.appSetting.orderData.Township_id=e,[...this.appSetting.locationDataList].forEach(t=>{t.id===e&&(this.appSetting.orderData.deliveryCharegs=t.deliveryCharges)})}itemJoin(e){let t={itemName:"",resturant:""};return[...this.appSetting.constFoodDataList].forEach(i=>{i.id===e&&(t.itemName=i.itemName,t.resturant=this.appSetting.resName(i.resturant_id))}),t}deleteInvoice(e){this.appSetting.orderDetailList.splice(e,1),this.appSetting.orderDetailViewList.splice(e,1)}sendToResturant(){this.appSetting.showLoading(),this.orderService.post({orderModel:this.appSetting.orderData,orderDetailModels:this.appSetting.orderDetailList})}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(s.a),c.Kb(g.a),c.Kb(h.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-item-list"]],decls:85,vars:19,consts:[["slot","fixed",3,"ionRefresh"],[4,"ngFor","ngForOf"],["slot","start"],["src","/../assets/person.svg"],["color","primary"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],["type","tel",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","number",3,"ngModel","ngModelChange"],["src","/../assets/food-delivery.svg"],["ionCancel","",3,"ngModel","ngModelChange"],["display-format","h:mm A","picker-format","h:mm A","value","1990-02-19T07:43Z",3,"ngModel","ngModelChange"],["src","/../assets/agreement.svg"],[3,"value"],["fixed",""],["size","6"],["expand","block","color","light"],["expand","block","color","light",3,"click"],["src","/../assets/food.svg"],["color","secondary",3,"routerLink"],["name","create-outline"],["color","danger",3,"click"],["name","trash-outline"]],template:function(e,t){1&e&&(c.Pb(0,"ion-content"),c.Pb(1,"ion-refresher",0),c.Xb("ionRefresh",(function(e){return t.refresh(e)})),c.Lb(2,"ion-refresher-content"),c.Ob(),c.pc(3,u,18,5,"ion-card",1),c.Pb(4,"ion-card"),c.Pb(5,"ion-card-content"),c.Pb(6,"ion-item"),c.Pb(7,"ion-avatar",2),c.Lb(8,"img",3),c.Ob(),c.Pb(9,"ion-label",4),c.Pb(10,"h2"),c.qc(11,"Customer Information"),c.Ob(),c.Ob(),c.Ob(),c.Pb(12,"ion-item"),c.Pb(13,"ion-label",5),c.qc(14,"Name"),c.Ob(),c.Pb(15,"ion-input",6),c.Xb("ngModelChange",(function(e){return t.appSetting.orderData.clientName=e})),c.Ob(),c.Ob(),c.Pb(16,"ion-item"),c.Pb(17,"ion-label",5),c.qc(18,"Phone"),c.Ob(),c.Pb(19,"ion-input",7),c.Xb("ngModelChange",(function(e){return t.appSetting.orderData.clitentPhone=e})),c.Ob(),c.Ob(),c.Pb(20,"ion-item"),c.Pb(21,"ion-label",5),c.qc(22,"Township"),c.Ob(),c.Pb(23,"ion-select",8),c.Xb("ngModelChange",(function(e){return t.appSetting.orderData.Township_id=e}))("ngModelChange",(function(e){return t.deliverChange(e)})),c.pc(24,P,2,3,"ion-select-option",9),c.Ob(),c.Ob(),c.Pb(25,"ion-item"),c.Pb(26,"ion-label",5),c.qc(27,"Flat No"),c.Ob(),c.Pb(28,"ion-input",10),c.Xb("ngModelChange",(function(e){return t.appSetting.orderData.clitentFlatNo=e})),c.Ob(),c.Ob(),c.Pb(29,"ion-item"),c.Pb(30,"ion-label",5),c.qc(31,"Address"),c.Ob(),c.Pb(32,"ion-textarea",8),c.Xb("ngModelChange",(function(e){return t.appSetting.orderData.clientAddress=e})),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(33,"ion-card"),c.Pb(34,"ion-card-content"),c.Pb(35,"ion-item"),c.Pb(36,"ion-avatar",2),c.Lb(37,"img",11),c.Ob(),c.Pb(38,"ion-label",4),c.Pb(39,"h2"),c.qc(40,"Delivery Information"),c.Ob(),c.Ob(),c.Ob(),c.Pb(41,"ion-item"),c.Pb(42,"ion-label",5),c.qc(43,"Charges"),c.Ob(),c.Pb(44,"ion-input",10),c.Xb("ngModelChange",(function(e){return t.appSetting.orderData.deliveryCharegs=e})),c.Ob(),c.Ob(),c.Pb(45,"ion-item"),c.Pb(46,"ion-label",5),c.qc(47,"Date for Delivery"),c.Ob(),c.Pb(48,"ion-datetime",12),c.Xb("ngModelChange",(function(e){return t.appSetting.orderData.deliveryDate=e})),c.Ob(),c.Pb(49,"ion-label",5),c.qc(50,"Time for Delivery"),c.Ob(),c.Pb(51,"ion-datetime",13),c.Xb("ngModelChange",(function(e){return t.appSetting.orderData.deliveryDate=e})),c.Ob(),c.Ob(),c.Pb(52,"ion-item"),c.Pb(53,"ion-label",5),c.qc(54,"Date for Pickup"),c.Ob(),c.Pb(55,"ion-datetime",12),c.Xb("ngModelChange",(function(e){return t.appSetting.orderData.pickupDate=e})),c.Ob(),c.Pb(56,"ion-label",5),c.qc(57,"Time for Pickup"),c.Ob(),c.Pb(58,"ion-datetime",13),c.Xb("ngModelChange",(function(e){return t.appSetting.orderData.pickupDate=e})),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(59,"ion-card"),c.Pb(60,"ion-card-content"),c.Pb(61,"ion-item"),c.Pb(62,"ion-avatar",2),c.Lb(63,"img",14),c.Ob(),c.Pb(64,"ion-label",4),c.Pb(65,"h2"),c.qc(66,"Cash Receive Information"),c.Ob(),c.Ob(),c.Ob(),c.Pb(67,"ion-item"),c.Pb(68,"ion-label",5),c.qc(69,"Cash Receive Options"),c.Ob(),c.Pb(70,"ion-select",8),c.Xb("ngModelChange",(function(e){return t.appSetting.orderData.riderTakeOption=e})),c.Pb(71,"ion-select-option",15),c.qc(72),c.Ob(),c.Pb(73,"ion-select-option",15),c.qc(74),c.Ob(),c.Pb(75,"ion-select-option",15),c.qc(76),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(77,"ion-grid",16),c.Pb(78,"ion-row"),c.Pb(79,"ion-col",17),c.Pb(80,"ion-button",18),c.qc(81," Cancel "),c.Ob(),c.Ob(),c.Pb(82,"ion-col",17),c.Pb(83,"ion-button",19),c.Xb("click",(function(){return t.sendToResturant()})),c.qc(84," Send To Resturant "),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.zb(3),c.ec("ngForOf",t.appSetting.orderDetailViewList),c.zb(12),c.ec("ngModel",t.appSetting.orderData.clientName),c.zb(4),c.ec("ngModel",t.appSetting.orderData.clitentPhone),c.zb(4),c.ec("ngModel",t.appSetting.orderData.Township_id),c.zb(1),c.ec("ngForOf",t.appSetting.locationDataList),c.zb(4),c.ec("ngModel",t.appSetting.orderData.clitentFlatNo),c.zb(4),c.ec("ngModel",t.appSetting.orderData.clientAddress),c.zb(12),c.ec("ngModel",t.appSetting.orderData.deliveryCharegs),c.zb(4),c.ec("ngModel",t.appSetting.orderData.deliveryDate),c.zb(3),c.ec("ngModel",t.appSetting.orderData.deliveryDate),c.zb(4),c.ec("ngModel",t.appSetting.orderData.pickupDate),c.zb(3),c.ec("ngModel",t.appSetting.orderData.pickupDate),c.zb(12),c.ec("ngModel",t.appSetting.orderData.riderTakeOption),c.zb(1),c.ec("value",t.revceiveOpt[0]),c.zb(1),c.rc(t.revceiveOpt[0]),c.zb(1),c.ec("value",t.revceiveOpt[1]),c.zb(1),c.rc(t.revceiveOpt[1]),c.zb(1),c.ec("value",t.revceiveOpt[2]),c.zb(1),c.rc(t.revceiveOpt[2]))},directives:[n.n,n.B,n.C,o.i,n.f,n.g,n.u,n.c,n.x,n.t,n.bb,a.c,a.d,n.I,n.ab,n.X,n.R,n.o,n.J,n.p,n.E,n.m,n.d,n.Z,l.h,n.r],styles:[".card-background-page[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{position:relative;text-align:center;background-color:transparent}"]}),e})();function m(e,t){1&e&&c.Lb(0,"app-item-list")}let f=(()=>{class e{constructor(e){this.appSetting=e,this.appSetting.adminTab2Process="list"}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(s.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-main-page"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&c.pc(0,m,1,0,"app-item-list",0),2&e&&c.ec("ngIf","list"===t.appSetting.adminTab2Process)},directives:[o.j,O],styles:[""]}),e})();var v=i("tk/3");let D=(()=>{class e{constructor(e,t){this.http=e,this.appSetting=t,this.url=`${this.appSetting.apiAddress}/api/dailyReturn`,this.httpOptions={headers:new v.c({"Content-Type":"application/json"})}}get(e,t){return this.http.get(this.url+`?riderID=${e}&date=${t}`)}}return e.\u0275fac=function(t){return new(t||e)(c.Tb(v.a),c.Tb(s.a))},e.\u0275prov=c.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),S=(()=>{class e{constructor(e,t){this.appSetting=e,this.datilyReturnService=t,this.dateData=(new Date).toISOString(),this.data={deliverCharges:0,debit:0,credit:0,openingBalance:0,riderEarning:0,dailyReturnAmount:0}}ngOnInit(){}refresh(){}search(){""===this.dateData?this.appSetting.showInvalid():(this.appSetting.showLoading(),this.datilyReturnService.get(this.appSetting.sessionUserID,this.dateData).subscribe(e=>this.data=e,e=>this.appSetting.showError(e),()=>{this.appSetting.loadingClose()}))}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(s.a),c.Kb(D))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-main-rider-page"]],decls:33,vars:3,consts:[["color","dark"],["position","floating"],["ionCancel","",3,"ngModel","ngModelChange"],["color","primary"],["slot","end"],["src","/../assets/agreement.svg"],["expand","block",3,"click"]],template:function(e,t){1&e&&(c.Pb(0,"ion-card"),c.Pb(1,"ion-card-header"),c.Pb(2,"ion-card-subtitle",0),c.qc(3,"Summary Report "),c.Pb(4,"ion-item"),c.Pb(5,"ion-label",1),c.qc(6,"Date"),c.Ob(),c.Pb(7,"ion-datetime",2),c.Xb("ngModelChange",(function(e){return t.dateData=e})),c.Ob(),c.Ob(),c.Pb(8,"ion-item"),c.Pb(9,"ion-label",1),c.qc(10,"Status"),c.Ob(),c.Pb(11,"ion-text",3),c.Pb(12,"p"),c.qc(13,"Pending"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(14,"ion-card-content"),c.Pb(15,"ion-item"),c.Pb(16,"ion-avatar",4),c.Lb(17,"img",5),c.Ob(),c.Pb(18,"ion-label"),c.Pb(19,"h3"),c.qc(20,"Rider Earning"),c.Ob(),c.Pb(21,"p"),c.qc(22),c.Ob(),c.Ob(),c.Ob(),c.Pb(23,"ion-item"),c.Pb(24,"ion-avatar",4),c.Lb(25,"img",5),c.Ob(),c.Pb(26,"ion-label"),c.Pb(27,"h3"),c.qc(28,"\u1015\u103c\u1014\u103a\u1021\u1015\u103a\u101b\u1014\u103a\u1004\u103d\u1031"),c.Ob(),c.Pb(29,"p"),c.qc(30),c.Ob(),c.Ob(),c.Ob(),c.Pb(31,"ion-button",6),c.Xb("click",(function(){return t.search()})),c.qc(32," Refresh Data "),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.zb(7),c.ec("ngModel",t.dateData),c.zb(15),c.sc("",t.data.riderEarning," Kyats"),c.zb(8),c.sc("",t.data.dailyReturnAmount," Kyats"))},directives:[n.f,n.h,n.i,n.u,n.x,n.o,n.ab,a.c,a.d,n.Q,n.g,n.c,n.d],styles:[""]}),e})();function y(e,t){1&e&&(c.Pb(0,"ion-header",2),c.Pb(1,"ion-toolbar"),c.Pb(2,"ion-grid",3),c.Pb(3,"ion-row"),c.Pb(4,"ion-col",4),c.Pb(5,"ion-chip"),c.Lb(6,"ion-icon",5),c.Pb(7,"ion-label"),c.qc(8,"Back"),c.Ob(),c.Ob(),c.Ob(),c.Lb(9,"ion-col",6),c.Pb(10,"ion-col",7),c.Pb(11,"ion-chip"),c.Lb(12,"ion-icon",8),c.Pb(13,"ion-label"),c.qc(14,"Search"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&c.ec("translucent",!0)}function M(e,t){1&e&&(c.Pb(0,"ion-header",2),c.Pb(1,"ion-toolbar"),c.Pb(2,"ion-title"),c.qc(3,"Today Sumary"),c.Ob(),c.Lb(4,"ion-progress-bar",9),c.Ob(),c.Ob()),2&e&&c.ec("translucent",!0)}function q(e,t){1&e&&c.Lb(0,"app-main-page")}function k(e,t){1&e&&c.Lb(0,"app-main-rider-page")}let L=(()=>{class e{constructor(e,t){this.appSetting=e,this.route=t}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(s.a),c.Kb(l.g))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-tab2"]],decls:5,vars:4,consts:[[3,"translucent",4,"ngIf"],[4,"ngIf"],[3,"translucent"],["fixed",""],["size","4"],["name","chevron-back-circle-outline"],["size","5"],["size","3"],["name","search-outline"],["value","1","buffer","0.5"]],template:function(e,t){1&e&&(c.pc(0,y,15,1,"ion-header",0),c.pc(1,M,5,1,"ion-header",0),c.Pb(2,"ion-content"),c.pc(3,q,1,0,"app-main-page",1),c.pc(4,k,1,0,"app-main-rider-page",1),c.Ob()),2&e&&(c.ec("ngIf","riderSelect"===t.appSetting.adminTab2Process),c.zb(1),c.ec("ngIf","rider"===t.appSetting.loginType),c.zb(2),c.ec("ngIf","admin"===t.appSetting.loginType),c.zb(1),c.ec("ngIf","rider"===t.appSetting.loginType))},directives:[o.j,n.n,n.q,n.T,n.p,n.E,n.m,n.l,n.r,n.x,n.S,n.A,f,S],styles:["ion-content[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:translucent}"]}),e})();var C=i("iA9z"),z=i("JJId");function I(e,t){if(1&e){const e=c.Qb();c.Pb(0,"ion-card"),c.Pb(1,"ion-item"),c.Pb(2,"ion-avatar",7),c.Lb(3,"img",8),c.Ob(),c.Pb(4,"ion-label"),c.Pb(5,"h2"),c.qc(6),c.Ob(),c.Pb(7,"h3"),c.qc(8),c.Ob(),c.Pb(9,"p"),c.qc(10),c.Ob(),c.Ob(),c.Pb(11,"ion-button",9),c.Xb("click",(function(){c.kc(e);const i=t.$implicit;return c.Zb(2).onSelect(i.id)})),c.qc(12," Select "),c.Ob(),c.Ob(),c.Ob()}if(2&e){const e=t.$implicit,i=c.Zb(2);c.zb(6),c.rc(e.username),c.zb(2),c.sc(" ETD KM:",i.locationCalculate(e.longitude,e.latitude).toFixed(2)," Kilometer "),c.zb(2),c.sc("Ph:",e.phone,"")}}function w(e,t){if(1&e){const e=c.Qb();c.Pb(0,"ion-content"),c.Pb(1,"ion-refresher",5),c.Xb("ionRefresh",(function(t){return c.kc(e),c.Zb().refresh(t)})),c.Lb(2,"ion-refresher-content"),c.Ob(),c.pc(3,I,13,3,"ion-card",6),c.Ob()}if(2&e){const e=c.Zb();c.zb(3),c.ec("ngForOf",e.rider)}}function E(e,t){if(1&e){const e=c.Qb();c.Pb(0,"ion-card"),c.Pb(1,"ion-item"),c.Pb(2,"ion-avatar",7),c.Lb(3,"img",8),c.Ob(),c.Pb(4,"ion-label"),c.Pb(5,"h2"),c.qc(6),c.Ob(),c.Pb(7,"h3"),c.qc(8),c.Ob(),c.Pb(9,"p"),c.qc(10),c.Ob(),c.Ob(),c.Pb(11,"ion-button",9),c.Xb("click",(function(){c.kc(e);const i=t.$implicit;return c.Zb(2).onSelect(i.id)})),c.qc(12," Select "),c.Ob(),c.Ob(),c.Pb(13,"ion-item",10),c.Lb(14,"ion-checkbox",11),c.Pb(15,"ion-label",12),c.qc(16,"Emegency"),c.Ob(),c.Ob(),c.Ob()}if(2&e){const e=t.$implicit,i=c.Zb(2);c.zb(6),c.rc(e.username),c.zb(2),c.sc(" ETD KM:",i.locationCalculate(e.longitude,e.latitude).toFixed(2)," Kilometer "),c.zb(2),c.sc("Ph:",e.phone,"")}}function R(e,t){if(1&e){const e=c.Qb();c.Pb(0,"ion-content"),c.Pb(1,"ion-refresher",5),c.Xb("ionRefresh",(function(t){return c.kc(e),c.Zb().refreshDelivering(t)})),c.Lb(2,"ion-refresher-content"),c.Ob(),c.pc(3,E,17,3,"ion-card",6),c.Ob()}if(2&e){const e=c.Zb();c.zb(3),c.ec("ngForOf",e.progressRider)}}const T=[{path:"",component:L},{path:"riderSelect/:id",component:(()=>{class e{constructor(e,t,i,n,o){this.route=e,this.appSetting=t,this.router=i,this.UserModelService=n,this.orderService=o,this.rider=[],this.progressRider=[],this.id=0,this.data=new C.a,this.riderSelection="available",this.id=+this.route.snapshot.paramMap.get("id"),this.loadAvailable(),this.appSetting.orderTransationList.forEach(e=>{e.orderModel.id===this.id&&(this.data=e.orderModel)})}ngOnInit(){}loadAvailable(){this.appSetting.showLoading(),this.UserModelService.getAvailableRider().subscribe(e=>this.rider=e,e=>this.appSetting.showError(e),()=>{this.riderSelection="available",this.appSetting.loadingClose()})}locationCalculate(e,t){const i=[...this.appSetting.orderTransationList];let n=this.tempDetail(i);const o=[...this.appSetting.resturandDataList],a=[...this.appSetting.menuFoodDataList];let r=this.tempResMethod(a,n),b=this.getUnique(r),c=this.locationDBMethod(o,b);return Math.min.apply(null,this.distanceCalculation(c,t,e))/1e3}distanceCalculation(e,t,i){let n=[];return e.forEach(e=>{n.push(this.appSetting.distanceCal(e.latitude,e.longitude,t,i))}),n}locationDBMethod(e,t){let i=[];return e.forEach(e=>{t.forEach(t=>{t===e.id&&i.push(e)})}),i}tempResMethod(e,t){let i=[];return e.forEach(e=>{t.forEach(t=>{t.itemID===e.id?i.push(e.resturant_id):console.log("Not include in data")})}),i}tempDetail(e){let t=[];return e.forEach(e=>{e.orderDetailModels.forEach(e=>{e.orderID===this.id&&t.push(e)})}),t}getUnique(e){var t=[];for(let i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}loadInProgress(){this.appSetting.showLoading(),this.UserModelService.getDeliveringRider().subscribe(e=>this.progressRider=e,e=>this.appSetting.showError(e),()=>{this.riderSelection="inProgress",this.appSetting.loadingClose()})}refresh(e){this.UserModelService.getAvailableRider().subscribe(e=>this.rider=e,e=>this.appSetting.showError(e),()=>{e.target.complete()})}refreshDelivering(e){this.UserModelService.getDeliveringRider().subscribe(e=>this.progressRider=e,e=>this.appSetting.showError(e),()=>{e.target.complete()})}onSelect(e){this.appSetting.showLoading(),this.data.riderID=e,this.data.status="delivering",this.orderService.put(this.data),this.router.navigateByUrl("/tabs/tab1/deliveryPending")}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(l.a),c.Kb(s.a),c.Kb(l.g),c.Kb(z.a),c.Kb(h.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-rider-select"]],decls:11,vars:2,consts:[["translucent",""],["value","all"],["value","all",3,"click"],["value","favorites",3,"click"],[4,"ngIf"],["slot","fixed",3,"ionRefresh"],[4,"ngFor","ngForOf"],["slot","start"],["src","/../assets/food-delivery.svg"],["color","secondary",3,"click"],["lines","none"],["color","danger","slot","start"],["color","danger","checked","","readonnly",""]],template:function(e,t){1&e&&(c.Pb(0,"ion-header",0),c.Pb(1,"ion-toolbar"),c.Pb(2,"ion-segment",1),c.Pb(3,"ion-segment-button",2),c.Xb("click",(function(){return t.loadAvailable()})),c.Pb(4,"ion-label"),c.qc(5,"Available"),c.Ob(),c.Ob(),c.Pb(6,"ion-segment-button",3),c.Xb("click",(function(){return t.loadInProgress()})),c.Pb(7,"ion-label"),c.qc(8,"In Progrss"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.pc(9,w,4,1,"ion-content",4),c.pc(10,R,4,1,"ion-content",4)),2&e&&(c.zb(9),c.ec("ngIf","available"===t.riderSelection),c.zb(1),c.ec("ngIf","inProgress"===t.riderSelection))},directives:[n.q,n.T,n.G,n.ab,n.H,n.x,o.j,n.n,n.B,n.C,o.i,n.f,n.u,n.c,n.d,n.k,n.a],styles:[""]}),e})()},{path:"itemEdit/:id",component:p}];let X=(()=>{class e{}return e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({factory:function(t){return new(t||e)},imports:[[l.i.forChild(T)],l.i]}),e})(),x=(()=>{class e{}return e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({factory:function(t){return new(t||e)},imports:[[n.U,o.b,a.a,r.a,X]]}),e})()}}]);