(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{TUkU:function(e,t,i){"use strict";i.r(t),i.d(t,"Tab2PageModule",(function(){return W}));var n=i("TEn/"),o=i("ofXK"),a=i("3Pt+"),r=i("qtYk"),b=i("dFER"),c=i("fXoL"),l=i("OVG3"),s=i("tyNb");function d(e,t){1&e&&(c.Ob(0,"ion-text",18),c.lc(1," *** "),c.Nb())}let p=(()=>{class e{constructor(e,t,i,n){this.appSetting=e,this.Router=t,this.location=i,this.route=n,this.foodData=new b.a,this.orderDetail={orderDetailID:0,itemID:this.foodData.id,itemQty:1,itemOrgPrice:0,discount:0,itemFinalPrice:0,orderID:0,status:"pending",remark:"",comment:"",isPickUpResturant:!1,isPickUpRider:!1},this.id=+this.Router.snapshot.paramMap.get("id"),this.id=+this.Router.snapshot.paramMap.get("id"),this.foodData=this.loadData(this.id)}back(){this.route.navigateByUrl("/tabs/tab2")}loadData(e){let t=new b.a,i=-1;return[...this.appSetting.orderDetailList].forEach(n=>{i+=1,i===e&&(t=this.loadFoodData(n.itemID),this.orderDetail=n)}),t}loadFoodData(e){let t=new b.a;return[...this.appSetting.constFoodDataList].forEach(i=>{i.id===e&&(t=i)}),t}totalAmount(){return 0!==this.orderDetail.itemQty?(this.orderDetail.itemOrgPrice=this.orderDetail.itemQty*this.foodData.price,this.orderDetail.itemFinalPrice=this.orderDetail.itemOrgPrice-this.orderDetail.discount,this.orderDetail.itemFinalPrice.toString()):"0"}validation(){return 0!==this.orderDetail.itemQty}addToInvoice(){if(this.validation()){this.appSetting.itemJoin(this.foodData.id);let e=-1;this.appSetting.orderDetailList.forEach(t=>{e+=1});let t=-1;this.appSetting.orderDetailViewList.forEach(e=>{t+=1})}this.route.navigateByUrl("/tabs/tab2")}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(l.a),c.Jb(s.a),c.Jb(o.g),c.Jb(s.g))},e.\u0275cmp=c.Db({type:e,selectors:[["app-item-edit"]],decls:70,vars:8,consts:[["lines","none"],["slot","start"],["src","/../assets/food.svg"],["src","/../assets/number.svg"],["color","tertiary","position","floating"],["name","calculator-outline"],["color","danger",4,"ngIf"],["type","number",3,"ngModel","ngModelChange"],["src","/../assets/sale.svg"],["color","primary"],["name","cash-outline"],["src","/../assets/remark.svg"],["name","chatbubbles-outline"],["type","text",3,"ngModel","ngModelChange"],["src","/../assets/money.svg"],["fixed",""],["size","6"],["expand","block","color","light",3,"click"],["color","danger"]],template:function(e,t){1&e&&(c.Ob(0,"ion-content"),c.Ob(1,"ion-card"),c.Ob(2,"ion-card-content"),c.Ob(3,"ion-item",0),c.Ob(4,"ion-avatar",1),c.Kb(5,"img",2),c.Nb(),c.Ob(6,"ion-label",0),c.Ob(7,"h2"),c.lc(8),c.Nb(),c.Ob(9,"h3"),c.lc(10),c.Nb(),c.Ob(11,"h3"),c.lc(12),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(13,"ion-card"),c.Ob(14,"ion-card-content"),c.Ob(15,"ion-item",0),c.Ob(16,"ion-avatar",1),c.Kb(17,"img",3),c.Nb(),c.Ob(18,"ion-label"),c.Ob(19,"h2"),c.lc(20,"Please enter the quantity"),c.Nb(),c.Nb(),c.Nb(),c.Ob(21,"ion-item"),c.Ob(22,"ion-label",4),c.Kb(23,"ion-icon",5),c.lc(24," Quantity "),c.kc(25,d,2,0,"ion-text",6),c.Nb(),c.Ob(26,"ion-input",7),c.Wb("ngModelChange",(function(e){return t.orderDetail.itemQty=e})),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(27,"ion-card"),c.Ob(28,"ion-card-content"),c.Ob(29,"ion-item",0),c.Ob(30,"ion-avatar",1),c.Kb(31,"img",8),c.Nb(),c.Ob(32,"ion-label"),c.Ob(33,"h2",9),c.lc(34,"Please enter the Discount amount"),c.Nb(),c.Nb(),c.Nb(),c.Ob(35,"ion-item"),c.Ob(36,"ion-label",4),c.Kb(37,"ion-icon",10),c.lc(38," Discount "),c.Nb(),c.Ob(39,"ion-input",7),c.Wb("ngModelChange",(function(e){return t.orderDetail.discount=e})),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(40,"ion-card"),c.Ob(41,"ion-card-content"),c.Ob(42,"ion-item",0),c.Ob(43,"ion-avatar",1),c.Kb(44,"img",11),c.Nb(),c.Ob(45,"ion-label"),c.Ob(46,"h2",9),c.lc(47,"Please enter remark"),c.Nb(),c.Nb(),c.Nb(),c.Ob(48,"ion-item"),c.Ob(49,"ion-label",4),c.Kb(50,"ion-icon",12),c.lc(51," Remark "),c.Nb(),c.Ob(52,"ion-input",13),c.Wb("ngModelChange",(function(e){return t.orderDetail.remark=e})),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(53,"ion-card"),c.Ob(54,"ion-item",0),c.Ob(55,"ion-avatar",1),c.Kb(56,"img",14),c.Nb(),c.Ob(57,"ion-label"),c.Ob(58,"h2"),c.lc(59,"Total"),c.Nb(),c.Ob(60,"h3"),c.lc(61),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(62,"ion-grid",15),c.Ob(63,"ion-row"),c.Ob(64,"ion-col",16),c.Ob(65,"ion-button",17),c.Wb("click",(function(){return t.back()})),c.lc(66," Back "),c.Nb(),c.Nb(),c.Ob(67,"ion-col",16),c.Ob(68,"ion-button",17),c.Wb("click",(function(){return t.addToInvoice()})),c.lc(69," Update Invoice "),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&e&&(c.zb(8),c.mc(t.foodData.itemName),c.zb(2),c.mc(t.foodData.price),c.zb(2),c.mc(t.appSetting.resName(t.foodData.resturant_id)),c.zb(13),c.dc("ngIf",0===t.orderDetail.itemQty),c.zb(1),c.dc("ngModel",t.orderDetail.itemQty),c.zb(13),c.dc("ngModel",t.orderDetail.discount),c.zb(13),c.dc("ngModel",t.orderDetail.remark),c.zb(9),c.mc(t.totalAmount()))},directives:[n.l,n.e,n.f,n.r,n.c,n.s,n.p,o.j,n.q,n.N,a.c,a.d,n.R,n.n,n.y,n.k,n.d,n.H],styles:[""]}),e})();var g=i("Gj71"),h=i("Dyo1");function u(e,t){if(1&e){const e=c.Pb();c.Ob(0,"ion-card"),c.Ob(1,"ion-card-content"),c.Ob(2,"ion-item"),c.Ob(3,"ion-avatar",2),c.Kb(4,"img",20),c.Nb(),c.Ob(5,"ion-label"),c.Ob(6,"h2"),c.lc(7),c.Nb(),c.Ob(8,"h3"),c.lc(9),c.Nb(),c.Ob(10,"h3"),c.lc(11),c.Nb(),c.Ob(12,"h3"),c.lc(13),c.Nb(),c.Nb(),c.Ob(14,"ion-button",21),c.Kb(15,"ion-icon",22),c.Nb(),c.Ob(16,"ion-button",23),c.Wb("click",(function(){c.hc(e);const i=t.index;return c.Yb().deleteInvoice(i)})),c.Kb(17,"ion-icon",24),c.Nb(),c.Nb(),c.Nb(),c.Nb()}if(2&e){const e=t.$implicit,i=t.index;c.zb(7),c.mc(e.itemName),c.zb(2),c.nc("Quantity ",e.orderDetialModel.itemQty,""),c.zb(2),c.nc("Price ",e.orderDetialModel.itemFinalPrice,""),c.zb(2),c.mc(e.resturantName),c.zb(1),c.fc("routerLink","/tabs/tab2/itemEdit/",i,"")}}function O(e,t){if(1&e&&(c.Ob(0,"ion-select-option",15),c.lc(1),c.Nb()),2&e){const e=t.$implicit,i=t.index;c.dc("value",e.id),c.zb(1),c.oc(" ",i+1,".",e.TownShip," ")}}let m=(()=>{class e{constructor(e,t,i){this.appSetting=e,this.LocationService=t,this.orderService=i,this.list=[1,2,34,5,6],this.revceiveOpt=["All","COD","Epayment"],this.locationReload()}ngOnInit(){}editInvoice(e){this.appSetting.adminTab2Process="edit"}riderSelect(){this.appSetting.adminTab2Process="riderSelect"}locationReload(){0===this.appSetting.locationDataList.length&&this.LocationService.get().subscribe(e=>this.appSetting.locationDataList=e)}refresh(e){this.LocationService.get().subscribe(e=>this.appSetting.locationDataList=e,e=>this.appSetting.showError(e),()=>{e.target.complete()})}deliverChange(e){this.appSetting.orderData.Township_id=e,[...this.appSetting.locationDataList].forEach(t=>{t.id===e&&(this.appSetting.orderData.deliveryCharegs=t.deliveryCharges)})}itemJoin(e){let t={itemName:"",resturant:""};return[...this.appSetting.constFoodDataList].forEach(i=>{i.id===e&&(t.itemName=i.itemName,t.resturant=this.appSetting.resName(i.resturant_id))}),t}deleteInvoice(e){this.appSetting.orderDetailList.splice(e,1),this.appSetting.orderDetailViewList.splice(e,1)}sendToResturant(){this.appSetting.showLoading(),console.log(this.appSetting.orderData.deliveryDate);let e={orderModel:this.appSetting.orderData,orderDetailModels:this.appSetting.orderDetailList};console.log(e),this.orderService.post(e)}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(l.a),c.Jb(g.a),c.Jb(h.a))},e.\u0275cmp=c.Db({type:e,selectors:[["app-item-list"]],decls:85,vars:19,consts:[["slot","fixed",3,"ionRefresh"],[4,"ngFor","ngForOf"],["slot","start"],["src","/../assets/person.svg"],["color","primary"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],["type","tel",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","number",3,"ngModel","ngModelChange"],["src","/../assets/food-delivery.svg"],["ionCancel","",3,"ngModel","ngModelChange"],["display-format","h:mm A","picker-format","h:mm A","value","1990-02-19T07:43Z",3,"ngModel","ngModelChange"],["src","/../assets/agreement.svg"],[3,"value"],["fixed",""],["size","6"],["expand","block","color","light"],["expand","block","color","light",3,"click"],["src","/../assets/food.svg"],["color","secondary",3,"routerLink"],["name","create-outline"],["color","danger",3,"click"],["name","trash-outline"]],template:function(e,t){1&e&&(c.Ob(0,"ion-content"),c.Ob(1,"ion-refresher",0),c.Wb("ionRefresh",(function(e){return t.refresh(e)})),c.Kb(2,"ion-refresher-content"),c.Nb(),c.kc(3,u,18,5,"ion-card",1),c.Ob(4,"ion-card"),c.Ob(5,"ion-card-content"),c.Ob(6,"ion-item"),c.Ob(7,"ion-avatar",2),c.Kb(8,"img",3),c.Nb(),c.Ob(9,"ion-label",4),c.Ob(10,"h2"),c.lc(11,"Customer Information"),c.Nb(),c.Nb(),c.Nb(),c.Ob(12,"ion-item"),c.Ob(13,"ion-label",5),c.lc(14,"Name"),c.Nb(),c.Ob(15,"ion-input",6),c.Wb("ngModelChange",(function(e){return t.appSetting.orderData.clientName=e})),c.Nb(),c.Nb(),c.Ob(16,"ion-item"),c.Ob(17,"ion-label",5),c.lc(18,"Phone"),c.Nb(),c.Ob(19,"ion-input",7),c.Wb("ngModelChange",(function(e){return t.appSetting.orderData.clitentPhone=e})),c.Nb(),c.Nb(),c.Ob(20,"ion-item"),c.Ob(21,"ion-label",5),c.lc(22,"Township"),c.Nb(),c.Ob(23,"ion-select",8),c.Wb("ngModelChange",(function(e){return t.appSetting.orderData.Township_id=e}))("ngModelChange",(function(e){return t.deliverChange(e)})),c.kc(24,O,2,3,"ion-select-option",9),c.Nb(),c.Nb(),c.Ob(25,"ion-item"),c.Ob(26,"ion-label",5),c.lc(27,"Flat No"),c.Nb(),c.Ob(28,"ion-input",10),c.Wb("ngModelChange",(function(e){return t.appSetting.orderData.clitentFlatNo=e})),c.Nb(),c.Nb(),c.Ob(29,"ion-item"),c.Ob(30,"ion-label",5),c.lc(31,"Address"),c.Nb(),c.Ob(32,"ion-textarea",8),c.Wb("ngModelChange",(function(e){return t.appSetting.orderData.clientAddress=e})),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(33,"ion-card"),c.Ob(34,"ion-card-content"),c.Ob(35,"ion-item"),c.Ob(36,"ion-avatar",2),c.Kb(37,"img",11),c.Nb(),c.Ob(38,"ion-label",4),c.Ob(39,"h2"),c.lc(40,"Delivery Information"),c.Nb(),c.Nb(),c.Nb(),c.Ob(41,"ion-item"),c.Ob(42,"ion-label",5),c.lc(43,"Charges"),c.Nb(),c.Ob(44,"ion-input",10),c.Wb("ngModelChange",(function(e){return t.appSetting.orderData.deliveryCharegs=e})),c.Nb(),c.Nb(),c.Ob(45,"ion-item"),c.Ob(46,"ion-label",5),c.lc(47,"Date for Delivery"),c.Nb(),c.Ob(48,"ion-datetime",12),c.Wb("ngModelChange",(function(e){return t.appSetting.orderData.deliveryDate=e})),c.Nb(),c.Ob(49,"ion-label",5),c.lc(50,"Time for Delivery"),c.Nb(),c.Ob(51,"ion-datetime",13),c.Wb("ngModelChange",(function(e){return t.appSetting.orderData.deliveryDate=e})),c.Nb(),c.Nb(),c.Ob(52,"ion-item"),c.Ob(53,"ion-label",5),c.lc(54,"Date for Pickup"),c.Nb(),c.Ob(55,"ion-datetime",12),c.Wb("ngModelChange",(function(e){return t.appSetting.orderData.pickupDate=e})),c.Nb(),c.Ob(56,"ion-label",5),c.lc(57,"Time for Pickup"),c.Nb(),c.Ob(58,"ion-datetime",13),c.Wb("ngModelChange",(function(e){return t.appSetting.orderData.pickupDate=e})),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(59,"ion-card"),c.Ob(60,"ion-card-content"),c.Ob(61,"ion-item"),c.Ob(62,"ion-avatar",2),c.Kb(63,"img",14),c.Nb(),c.Ob(64,"ion-label",4),c.Ob(65,"h2"),c.lc(66,"Cash Receive Information"),c.Nb(),c.Nb(),c.Nb(),c.Ob(67,"ion-item"),c.Ob(68,"ion-label",5),c.lc(69,"Cash Receive Options"),c.Nb(),c.Ob(70,"ion-select",8),c.Wb("ngModelChange",(function(e){return t.appSetting.orderData.riderTakeOption=e})),c.Ob(71,"ion-select-option",15),c.lc(72),c.Nb(),c.Ob(73,"ion-select-option",15),c.lc(74),c.Nb(),c.Ob(75,"ion-select-option",15),c.lc(76),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(77,"ion-grid",16),c.Ob(78,"ion-row"),c.Ob(79,"ion-col",17),c.Ob(80,"ion-button",18),c.lc(81," Cancel "),c.Nb(),c.Nb(),c.Ob(82,"ion-col",17),c.Ob(83,"ion-button",19),c.Wb("click",(function(){return t.sendToResturant()})),c.lc(84," Send To Resturant "),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&e&&(c.zb(3),c.dc("ngForOf",t.appSetting.orderDetailViewList),c.zb(12),c.dc("ngModel",t.appSetting.orderData.clientName),c.zb(4),c.dc("ngModel",t.appSetting.orderData.clitentPhone),c.zb(4),c.dc("ngModel",t.appSetting.orderData.Township_id),c.zb(1),c.dc("ngForOf",t.appSetting.locationDataList),c.zb(4),c.dc("ngModel",t.appSetting.orderData.clitentFlatNo),c.zb(4),c.dc("ngModel",t.appSetting.orderData.clientAddress),c.zb(12),c.dc("ngModel",t.appSetting.orderData.deliveryCharegs),c.zb(4),c.dc("ngModel",t.appSetting.orderData.deliveryDate),c.zb(3),c.dc("ngModel",t.appSetting.orderData.deliveryDate),c.zb(4),c.dc("ngModel",t.appSetting.orderData.pickupDate),c.zb(3),c.dc("ngModel",t.appSetting.orderData.pickupDate),c.zb(12),c.dc("ngModel",t.appSetting.orderData.riderTakeOption),c.zb(1),c.dc("value",t.revceiveOpt[0]),c.zb(1),c.mc(t.revceiveOpt[0]),c.zb(1),c.dc("value",t.revceiveOpt[1]),c.zb(1),c.mc(t.revceiveOpt[1]),c.zb(1),c.dc("value",t.revceiveOpt[2]),c.zb(1),c.mc(t.revceiveOpt[2]))},directives:[n.l,n.v,n.w,o.i,n.e,n.f,n.r,n.c,n.s,n.q,n.R,a.c,a.d,n.C,n.Q,n.N,n.I,n.m,n.D,n.n,n.y,n.k,n.d,n.P,s.h,n.p],styles:[".card-background-page[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{position:relative;text-align:center;background-color:transparent}"]}),e})();function N(e,t){1&e&&c.Kb(0,"app-item-list")}let f=(()=>{class e{constructor(e){this.appSetting=e,this.appSetting.adminTab2Process="list"}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(l.a))},e.\u0275cmp=c.Db({type:e,selectors:[["app-main-page"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&c.kc(0,N,1,0,"app-item-list",0),2&e&&c.dc("ngIf","list"===t.appSetting.adminTab2Process)},directives:[o.j,m],styles:[""]}),e})();var v=i("tk/3");let D=(()=>{class e{constructor(e,t){this.http=e,this.appSetting=t,this.url=`${this.appSetting.apiAddress}/api/dailyReturn`,this.httpOptions={headers:new v.c({"Content-Type":"application/json"})}}get(e,t){return this.http.get(this.url+`?riderID=${e}&date=${t}`)}}return e.\u0275fac=function(t){return new(t||e)(c.Sb(v.a),c.Sb(l.a))},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),S=(()=>{class e{constructor(e,t){this.appSetting=e,this.datilyReturnService=t,this.dateData=(new Date).toISOString(),this.data={deliverCharges:0,debit:0,credit:0,openingBalance:0,riderEarning:0,dailyReturnAmount:0},console.log(this.appSetting.loginType)}ngOnInit(){}refresh(){console.log(this.appSetting.loginType)}search(){""===this.dateData?this.appSetting.showInvalid():(this.appSetting.showLoading(),this.datilyReturnService.get(this.appSetting.sessionUserID,this.dateData).subscribe(e=>this.data=e,e=>this.appSetting.showError(e),()=>{console.log(this.data),this.appSetting.loadingClose()}))}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(l.a),c.Jb(D))},e.\u0275cmp=c.Db({type:e,selectors:[["app-main-rider-page"]],decls:33,vars:3,consts:[["color","dark"],["position","floating"],["ionCancel","",3,"ngModel","ngModelChange"],["color","primary"],["slot","end"],["src","/../assets/agreement.svg"],["expand","block",3,"click"]],template:function(e,t){1&e&&(c.Ob(0,"ion-card"),c.Ob(1,"ion-card-header"),c.Ob(2,"ion-card-subtitle",0),c.lc(3,"Summary Report "),c.Ob(4,"ion-item"),c.Ob(5,"ion-label",1),c.lc(6,"Date"),c.Nb(),c.Ob(7,"ion-datetime",2),c.Wb("ngModelChange",(function(e){return t.dateData=e})),c.Nb(),c.Nb(),c.Ob(8,"ion-item"),c.Ob(9,"ion-label",1),c.lc(10,"Status"),c.Nb(),c.Ob(11,"ion-text",3),c.Ob(12,"p"),c.lc(13,"Pending"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(14,"ion-card-content"),c.Ob(15,"ion-item"),c.Ob(16,"ion-avatar",4),c.Kb(17,"img",5),c.Nb(),c.Ob(18,"ion-label"),c.Ob(19,"h3"),c.lc(20,"Rider Earning"),c.Nb(),c.Ob(21,"p"),c.lc(22),c.Nb(),c.Nb(),c.Nb(),c.Ob(23,"ion-item"),c.Ob(24,"ion-avatar",4),c.Kb(25,"img",5),c.Nb(),c.Ob(26,"ion-label"),c.Ob(27,"h3"),c.lc(28,"\u1015\u103c\u1014\u103a\u1021\u1015\u103a\u101b\u1014\u103a\u1004\u103d\u1031"),c.Nb(),c.Ob(29,"p"),c.lc(30),c.Nb(),c.Nb(),c.Nb(),c.Ob(31,"ion-button",6),c.Wb("click",(function(){return t.search()})),c.lc(32," Refresh Data "),c.Nb(),c.Nb(),c.Nb()),2&e&&(c.zb(7),c.dc("ngModel",t.dateData),c.zb(15),c.nc("",t.data.riderEarning," Kyats"),c.zb(8),c.nc("",t.data.dailyReturnAmount," Kyats"))},directives:[n.e,n.g,n.h,n.r,n.s,n.m,n.Q,a.c,a.d,n.H,n.f,n.c,n.d],styles:[""]}),e})();function y(e,t){1&e&&(c.Ob(0,"ion-header",2),c.Ob(1,"ion-toolbar"),c.Ob(2,"ion-grid",3),c.Ob(3,"ion-row"),c.Ob(4,"ion-col",4),c.Ob(5,"ion-chip"),c.Kb(6,"ion-icon",5),c.Ob(7,"ion-label"),c.lc(8,"Back"),c.Nb(),c.Nb(),c.Nb(),c.Kb(9,"ion-col",6),c.Ob(10,"ion-col",7),c.Ob(11,"ion-chip"),c.Kb(12,"ion-icon",8),c.Ob(13,"ion-label"),c.lc(14,"Search"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&e&&c.dc("translucent",!0)}function M(e,t){1&e&&(c.Ob(0,"ion-header",2),c.Ob(1,"ion-toolbar"),c.Ob(2,"ion-title"),c.lc(3,"Today Sumary"),c.Nb(),c.Kb(4,"ion-progress-bar",9),c.Nb(),c.Nb()),2&e&&c.dc("translucent",!0)}function k(e,t){1&e&&c.Kb(0,"app-main-page")}function C(e,t){1&e&&c.Kb(0,"app-main-rider-page")}let z=(()=>{class e{constructor(e,t){this.appSetting=e,this.route=t,this.route.navigateByUrl("tabs/tab2")}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(l.a),c.Jb(s.g))},e.\u0275cmp=c.Db({type:e,selectors:[["app-tab2"]],decls:5,vars:4,consts:[[3,"translucent",4,"ngIf"],[4,"ngIf"],[3,"translucent"],["fixed",""],["size","4"],["name","chevron-back-circle-outline"],["size","5"],["size","3"],["name","search-outline"],["value","1","buffer","0.5"]],template:function(e,t){1&e&&(c.kc(0,y,15,1,"ion-header",0),c.kc(1,M,5,1,"ion-header",0),c.Ob(2,"ion-content"),c.kc(3,k,1,0,"app-main-page",1),c.kc(4,C,1,0,"app-main-rider-page",1),c.Nb()),2&e&&(c.dc("ngIf","riderSelect"===t.appSetting.adminTab2Process),c.zb(1),c.dc("ngIf","rider"===t.appSetting.loginType),c.zb(2),c.dc("ngIf","admin"===t.appSetting.loginType),c.zb(1),c.dc("ngIf","rider"===t.appSetting.loginType))},directives:[o.j,n.l,n.o,n.K,n.n,n.y,n.k,n.j,n.p,n.s,n.J,n.u,f,S],styles:["ion-content[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:translucent}"]}),e})();var I=i("iA9z"),w=i("JJId");function P(e,t){if(1&e){const e=c.Pb();c.Ob(0,"ion-card"),c.Ob(1,"ion-item"),c.Ob(2,"ion-avatar",7),c.Kb(3,"img",8),c.Nb(),c.Ob(4,"ion-label"),c.Ob(5,"h2"),c.lc(6),c.Nb(),c.Ob(7,"h3"),c.lc(8),c.Nb(),c.Ob(9,"p"),c.lc(10),c.Nb(),c.Nb(),c.Ob(11,"ion-button",9),c.Wb("click",(function(){c.hc(e);const i=t.$implicit;return c.Yb(2).onSelect(i.id)})),c.lc(12," Select "),c.Nb(),c.Nb(),c.Nb()}if(2&e){const e=t.$implicit,i=c.Yb(2);c.zb(6),c.mc(e.username),c.zb(2),c.nc(" ETD KM:",i.locationCalculate(e.longitude,e.latitude).toFixed(2)," Kilometer "),c.zb(2),c.nc("Ph:",e.phone,"")}}function R(e,t){if(1&e){const e=c.Pb();c.Ob(0,"ion-content"),c.Ob(1,"ion-refresher",5),c.Wb("ionRefresh",(function(t){return c.hc(e),c.Yb().refresh(t)})),c.Kb(2,"ion-refresher-content"),c.Nb(),c.kc(3,P,13,3,"ion-card",6),c.Nb()}if(2&e){const e=c.Yb();c.zb(3),c.dc("ngForOf",e.rider)}}function K(e,t){if(1&e){const e=c.Pb();c.Ob(0,"ion-card"),c.Ob(1,"ion-item"),c.Ob(2,"ion-avatar",7),c.Kb(3,"img",8),c.Nb(),c.Ob(4,"ion-label"),c.Ob(5,"h2"),c.lc(6),c.Nb(),c.Ob(7,"h3"),c.lc(8),c.Nb(),c.Ob(9,"p"),c.lc(10),c.Nb(),c.Nb(),c.Ob(11,"ion-button",9),c.Wb("click",(function(){c.hc(e);const i=t.$implicit;return c.Yb(2).onSelect(i.id)})),c.lc(12," Select "),c.Nb(),c.Nb(),c.Ob(13,"ion-item",10),c.Kb(14,"ion-checkbox",11),c.Ob(15,"ion-label",12),c.lc(16,"Emegency"),c.Nb(),c.Nb(),c.Nb()}if(2&e){const e=t.$implicit,i=c.Yb(2);c.zb(6),c.mc(e.username),c.zb(2),c.nc(" ETD KM:",i.locationCalculate(e.longitude,e.latitude).toFixed(2)," Kilometer "),c.zb(2),c.nc("Ph:",e.phone,"")}}function T(e,t){if(1&e){const e=c.Pb();c.Ob(0,"ion-content"),c.Ob(1,"ion-refresher",5),c.Wb("ionRefresh",(function(t){return c.hc(e),c.Yb().refreshDelivering(t)})),c.Kb(2,"ion-refresher-content"),c.Nb(),c.kc(3,K,17,3,"ion-card",6),c.Nb()}if(2&e){const e=c.Yb();c.zb(3),c.dc("ngForOf",e.progressRider)}}const E=[{path:"",component:z},{path:"riderSelect/:id",component:(()=>{class e{constructor(e,t,i,n,o){this.route=e,this.appSetting=t,this.router=i,this.UserModelService=n,this.orderService=o,this.rider=[],this.progressRider=[],this.id=0,this.data=new I.a,this.riderSelection="available",this.id=+this.route.snapshot.paramMap.get("id"),this.loadAvailable(),this.appSetting.orderTransationList.forEach(e=>{e.orderModel.id===this.id&&(this.data=e.orderModel)})}ngOnInit(){}loadAvailable(){this.appSetting.showLoading(),this.UserModelService.getAvailableRider().subscribe(e=>this.rider=e,e=>this.appSetting.showError(e),()=>{this.riderSelection="available",this.appSetting.loadingClose()})}locationCalculate(e,t){const i=[...this.appSetting.orderTransationList];let n=this.tempDetail(i);const o=[...this.appSetting.resturandDataList],a=[...this.appSetting.menuFoodDataList];let r=this.tempResMethod(a,n);console.log(n);let b=this.getUnique(r),c=this.locationDBMethod(o,b);return Math.min.apply(null,this.distanceCalculation(c,t,e))/1e3}distanceCalculation(e,t,i){let n=[];return e.forEach(e=>{n.push(this.appSetting.distanceCal(e.latitude,e.longitude,t,i))}),n}locationDBMethod(e,t){let i=[];return e.forEach(e=>{t.forEach(t=>{t===e.id&&i.push(e)})}),i}tempResMethod(e,t){let i=[];return e.forEach(e=>{t.forEach(t=>{console.log("Item Y ID="+t.itemID+" and "+e.id),t.itemID===e.id?i.push(e.resturant_id):console.log("Not include in data")})}),i}tempDetail(e){let t=[];return e.forEach(e=>{e.orderDetailModels.forEach(e=>{e.orderID===this.id&&t.push(e)})}),t}getUnique(e){var t=[];for(let i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}loadInProgress(){this.appSetting.showLoading(),this.UserModelService.getDeliveringRider().subscribe(e=>this.progressRider=e,e=>this.appSetting.showError(e),()=>{this.riderSelection="inProgress",this.appSetting.loadingClose()})}refresh(e){this.UserModelService.getAvailableRider().subscribe(e=>this.rider=e,e=>this.appSetting.showError(e),()=>{e.target.complete()})}refreshDelivering(e){this.UserModelService.getDeliveringRider().subscribe(e=>this.progressRider=e,e=>this.appSetting.showError(e),()=>{e.target.complete()})}onSelect(e){this.appSetting.showLoading(),this.data.riderID=e,this.data.status="delivering",this.orderService.put(this.data),this.router.navigateByUrl("/tabs/tab1/deliveryPending")}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(s.a),c.Jb(l.a),c.Jb(s.g),c.Jb(w.a),c.Jb(h.a))},e.\u0275cmp=c.Db({type:e,selectors:[["app-rider-select"]],decls:11,vars:2,consts:[["translucent",""],["value","all"],["value","all",3,"click"],["value","favorites",3,"click"],[4,"ngIf"],["slot","fixed",3,"ionRefresh"],[4,"ngFor","ngForOf"],["slot","start"],["src","/../assets/food-delivery.svg"],["color","secondary",3,"click"],["lines","none"],["color","danger","slot","start"],["color","danger","checked","","readonnly",""]],template:function(e,t){1&e&&(c.Ob(0,"ion-header",0),c.Ob(1,"ion-toolbar"),c.Ob(2,"ion-segment",1),c.Ob(3,"ion-segment-button",2),c.Wb("click",(function(){return t.loadAvailable()})),c.Ob(4,"ion-label"),c.lc(5,"Available"),c.Nb(),c.Nb(),c.Ob(6,"ion-segment-button",3),c.Wb("click",(function(){return t.loadInProgress()})),c.Ob(7,"ion-label"),c.lc(8,"In Progrss"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.kc(9,R,4,1,"ion-content",4),c.kc(10,T,4,1,"ion-content",4)),2&e&&(c.zb(9),c.dc("ngIf","available"===t.riderSelection),c.zb(1),c.dc("ngIf","inProgress"===t.riderSelection))},directives:[n.o,n.K,n.A,n.Q,n.B,n.s,o.j,n.l,n.v,n.w,o.i,n.e,n.r,n.c,n.d,n.i,n.a],styles:[""]}),e})()},{path:"itemEdit/:id",component:p}];let L=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},imports:[[s.i.forChild(E)],s.i]}),e})(),W=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},imports:[[n.L,o.b,a.a,r.a,L]]}),e})()}}]);