function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{X3zk:function(n,e,t){"use strict";t.r(e),t.d(e,"LoginModule",(function(){return P}));var i=t("ofXK"),o=t("tyNb"),r=t("fXoL"),a=t("JJId"),s=t("OVG3"),c=t("GZYL"),b=t("TEn/"),l=t("3Pt+");function u(n,e){1&n&&r.Lb(0,"ion-icon",18)}function p(n,e){1&n&&r.Lb(0,"ion-icon",19)}var g,d,f,h=[{path:"",component:(g=function(){function n(e,t,i,o){_classCallCheck(this,n),this.router=e,this.userService=t,this.appSetting=i,this.userTypeService=o,this.username="",this.password="",this.passwordVisibility="password",this.userData={id:0,username:"",password:"",usertype:0,phone:"",latitude:"",longitude:""}}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"passVisible",value:function(){this.passwordVisibility="password"===this.passwordVisibility?"text":"password"}},{key:"locationUpdate",value:function(){var n=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){n.userData.latitude=e.coords.latitude.toString(),n.userData.longitude=e.coords.longitude.toString(),n.userService.putLocation(n.userData)}))}},{key:"onClick",value:function(){var n=this;this.appSetting.showLoading(),this.userService.getLogin(this.username,this.password).subscribe((function(e){n.appSetting.sessionUserID=e.id,n.userData=e}),(function(e){return n.appSetting.showError(e)}),(function(){0===n.appSetting.sessionUserID?n.appSetting.loginFail():n.userTypeService.getSingle(n.userData.usertype).subscribe((function(e){n.appSetting.loginType=e.usertypeName.toLocaleLowerCase()}),(function(e){return n.appSetting.showError(e)}),(function(){"resturant"===n.appSetting.loginType&&(n.appSetting.resturantID=n.appSetting.sessionUserID),"rider"===n.appSetting.loginType&&setInterval((function(){n.locationUpdate()}),3e4),n.appSetting.loginSuccess(),n.router.navigateByUrl("/managmenet")})),n.appSetting.loginSuccess()}))}}]),n}(),g.\u0275fac=function(n){return new(n||g)(r.Kb(o.g),r.Kb(a.a),r.Kb(s.a),r.Kb(c.a))},g.\u0275cmp=r.Eb({type:g,selectors:[["app-login-from"]],decls:43,vars:5,consts:[["color","light"],["color","light","padding",""],["color","primary","justify-content-center",""],["padding",""],["slot","start"],["src","/../assets/person.svg"],["type","text","placeholder","Username",3,"ngModel","ngModelChange"],["src","/../assets/key.svg"],["placeholder","Password",3,"ngModel","type","ngModelChange"],["color","light",3,"click"],["name","eye-outline",4,"ngIf"],["name","eye-off-outline",4,"ngIf"],["size","6"],["routerLink","","expand","block","color","primary"],["expand","block","color","primary",3,"click"],["color","",1,"ion-align-items-center"],[2,"text-align","center"],["target","_blank","color","light","href","https://sakbran.github.io"],["name","eye-outline"],["name","eye-off-outline"]],template:function(n,e){1&n&&(r.Pb(0,"ion-toolbar",0),r.Lb(1,"ion-title"),r.Ob(),r.Pb(2,"ion-toolbar",0),r.Lb(3,"ion-title"),r.Ob(),r.Pb(4,"ion-content",1),r.Pb(5,"ion-card"),r.Pb(6,"ion-card-content"),r.Pb(7,"ion-grid"),r.Pb(8,"ion-row",2),r.Pb(9,"ion-col"),r.Pb(10,"div",3),r.Pb(11,"ion-card"),r.Pb(12,"ion-item"),r.Pb(13,"ion-avatar",4),r.Lb(14,"img",5),r.Ob(),r.Pb(15,"ion-label"),r.Pb(16,"ion-input",6),r.Xb("ngModelChange",(function(n){return e.username=n})),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(17,"ion-row"),r.Pb(18,"ion-col"),r.Pb(19,"div",3),r.Pb(20,"ion-card"),r.Pb(21,"ion-item"),r.Pb(22,"ion-avatar",4),r.Lb(23,"img",7),r.Ob(),r.Pb(24,"ion-label"),r.Pb(25,"ion-input",8),r.Xb("ngModelChange",(function(n){return e.password=n})),r.Ob(),r.Ob(),r.Pb(26,"ion-button",9),r.Xb("click",(function(){return e.passVisible()})),r.pc(27,u,1,0,"ion-icon",10),r.pc(28,p,1,0,"ion-icon",11),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(29,"ion-row"),r.Pb(30,"ion-col",12),r.Pb(31,"ion-button",13),r.qc(32," Cancel "),r.Ob(),r.Ob(),r.Pb(33,"ion-col",12),r.Pb(34,"ion-button",14),r.Xb("click",(function(){return e.onClick()})),r.qc(35," Login "),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(36,"ion-toolbar",0),r.Pb(37,"ion-text",15),r.Pb(38,"div",16),r.Pb(39,"p"),r.qc(40,"All Rights Reserved. \u2122 by "),r.Pb(41,"a",17),r.qc(42,"Sak Bran"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&n&&(r.zb(16),r.ec("ngModel",e.username),r.zb(9),r.fc("type",e.passwordVisibility),r.ec("ngModel",e.password),r.zb(2),r.ec("ngIf","password"===e.passwordVisibility),r.zb(1),r.ec("ngIf","text"===e.passwordVisibility))},directives:[b.U,b.T,b.o,b.g,b.h,b.q,b.F,b.n,b.v,b.c,b.y,b.u,b.cb,l.c,l.d,b.e,i.j,b.ab,o.h,b.R,b.s],styles:[""]}),g)},{path:"managmenet",loadChildren:function(){return t.e(3).then(t.bind(null,"hO9l")).then((function(n){return n.TabsPageModule}))},canActivate:[t("5cPy").a]}],y=((f=function n(){_classCallCheck(this,n)}).\u0275mod=r.Ib({type:f}),f.\u0275inj=r.Hb({factory:function(n){return new(n||f)},imports:[[l.a,o.i.forChild(h)],o.i]}),f),P=((d=function n(){_classCallCheck(this,n)}).\u0275mod=r.Ib({type:d}),d.\u0275inj=r.Hb({factory:function(n){return new(n||d)},imports:[[b.V,i.b,l.a,y]]}),d)}}]);